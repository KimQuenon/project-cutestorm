
{% extends "layouts/form_layout.html.twig" %}

{% block title %}Edition mode{% endblock %}

{% block form_title %}Edit{% endblock %}

{% block form_text %}Curabitur accumsan sed risus vel faucibus. Vivamus dignissim elit elit, et sollicitudin augue fermentum id. Suspendisse sem dui, pulvinar eu suscipit ut, ultrices in urna. {% endblock %}

{% block form_content %}
{% set images = post.postImages %}
{% set imagePaths = [] %}
{% set imageIds = [] %}
{% set deletePaths = [] %}

{% for image in images %}
    {% set imagePaths = imagePaths|merge([image.filename]) %}
    {% set imageIds = imageIds|merge([image.id]) %}
    {% set deletePaths = deletePaths|merge([path('post_picture_delete', {'id': image.id})]) %}
{% endfor %}

{% include "partials/form/_editContent.html.twig" with {
    images: images,
    imagePaths: imagePaths,
    imageIds: imageIds,
    deletePaths: deletePaths
} %}

{% endblock %}

{% block additionalButton %}
    <a href="{{ path('post_add_image', {'slug': post.slug}) }}" class="btn btn-white w-52">add a picture</a>
{% endblock %}

{# {% block body %}

    <div class="container mt-4">
        <h1>Edit : {{post.title}}</strong></h1>
        {{form_start(myForm)}}
            {{form_widget(myForm)}}
            <button type="submit" class="btn btn-warning mt-3">Edit</button>
        {{form_end(myForm)}}
    </div>

{% endblock %}

{% block form_row %}
    <div class="form-group mt-2">
        <div class="row">
            <div class="col-6">
                {{form_label(form)}}
            </div>
            <div class="col-6">
                {{form_widget(form)}}
                {{form_errors(form)}}
            </div>
        </div>
    </div>
{% endblock %} #}